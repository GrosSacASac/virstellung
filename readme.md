# Virstellung

A library for server side generated slide show,

if JS in enabled, then the "next" and "previous" links
have the default behaviour
removed and
switch to the next/previous slide without a full page refresh.

## Installation

[`npm i virstellung`](https://www.npmjs.com/package/virstellung)

## Usage

## virstellung.html.js

Function that generates html code. This code should be inserted into the `<body>`

### Example

```js
import { virstellung } from "virstellung";
import mime from "mime"; // not included


const items = [
    "image1.jpg",
    "video.mp4",
];

const mediaFolder = "media";

// must be completely safe to inserted into html
// make sure to validate or escape
// in this example the items are hardcoded so there is no problem
const preparedSlideItems = items.map(item => {
    return {
        label: item,
        file: `./${mediaFolder}/${item}`,
        mime: mime.getType(item),
    }
});

const currentSlideParam = "currentslide";

const htmlCodeForAllSlides = preparedSlideItems.map((slideItem, i) => {
    return `<!doctype html><html><head>
    <meta name="viewport" content="width=device-width">
    <link media="screen" href="./virstellung.css" rel="stylesheet">
    </head><body>    
    ${virstellung({
        slideItems: preparedSlideItems, // array with {label, file, mime}
        currentSlide: i, // current slide
        currentSlideParam, // search param for the server to respond with wanted slide 
        translate: undefined, // optional translation function
        otherSearch: undefined, // optional search to be added back in the url
        id: undefined, // id that will be used in the html,
        // for the event handlers to know which slide should go next
        // (there can be multiples slides on the same page)
        //  only required if multiple slides are used
    })}
    <script type="module" src="./virstellungAutoLaunch.js"></script>
</body></html>`;
});
```

In the HTTP server, use currentSlideParam to know which html page to serve. (server side rendering)

## virstellungAutoLaunch.js

Optional

Code that should run after the html code generated by the above function. Bundle it with rollup or similar. Import the result as text and serve it inside a `<script type="module">`.

Depends upon [dom99](https://www.npmjs.com/package/dom99)

## virstellung.js

Alternative to virstellungAutoLaunch, does nothing by itself, exports a function stellFir. Use it with the same id as used before for virstellung function


## virstellung.css

Optional

Serve it to inside `<link media="screen" href="./virstellung.css" rel="stylesheet">` in the `<head>`. Again, your server should serve this file.


## About

Virstellung means presentation in Luxembourgish


### Changelog

[Changelog](./changelog.md)


### License

[CC0](./license.txt)

### Related

 - reveal.js
